data_dir = "/tmp/vector"

[api]
enabled = true

[sources.access_log]
  type = "socket"
  address = "127.0.0.1:6141"
  max_length = 102400
  mode = "tcp"
[sources.access_log.decoding]
  codec = "json"

[sources.error_log]
  type = "socket"
  address = "127.0.0.1:6140"
  max_length = 102400
  mode = "tcp"
[sources.error_log.decoding]
  codec = "json"

[sinks.my_sink_id]
  type = "file"
  encoding = "ndjson"
  inputs = [ "access_log", "error_log" ]
  compression = "none"
  path = "/tmp/vector-%Y-%m-%d.log"

